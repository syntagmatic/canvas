<html>
<head>
<style type="text/css">
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}
body {
  background: #555;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.js"></script>
<script src="http://documentcloud.github.com/underscore/underscore.js"></script>
<script src="js/view.js"></script>
<script src="js/reddit.js"></script>
<script>
$(function() {

    var stories = _(reddit.data.children).map( function(i) { return i.data });
    console.log(stories);

    var canvas = view.fullscreen('#square');
    var context = view.canvas('square');

    
    var color = {
        up: "hsl(140,100%,80%)",
        down: "hsl(26,100%,80%)"
    }

    _(stories).each( function(story, i) {
        context.fillStyle = color.up;
        context.fillRect( 10, i*24+10, story.ups/30, 10);
        context.fillStyle = color.down;
        context.fillRect( 10, i*24+20, story.downs/30, 10);

        console.log(story.ups, story.downs);
    });
});
</script>
</head>
<body>
<div style="width: 100%; height: 100%">
<canvas id="square" width="100" height="100"></canvas>
</div>
</body>
</html>

