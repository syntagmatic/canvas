<html>
<head>
<style type="text/css">
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}
body {
  background: #555;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.js"></script>
<script>
$(function() {
  $('#square').attr({width: $('#square').parent().width(),
                     height: $('#square').parent().height()});
  var canvas = document.getElementById("square");
  var context = canvas.getContext("2d");

  var minHue = 90,
      maxHue = 180,
      rangeHue = maxHue - minHue;

  var i = oi = Math.floor(canvas.width/10),
      j = oj = Math.floor(canvas.height/10);

  var colorspace = function() {
    while (i--) {
      while (j--) {
        context.fillStyle = "hsl(" + minHue + rangeHue*Math.random() + ","
                                   + 100*Math.random() + "%,"
                                   + 90*Math.random() + "%)";
        /*
        context.fillStyle = "rgb(" + Math.round(255*Math.random()) + ","
                                   + Math.round(255*Math.random()) + ","
                                   + Math.round(255*Math.random()) + ")";
        */
        context.fillRect( i*10
                        , j*10
                        , 9 
                        , 9);
      }
      j = oj;
    }
    i = oi
    setTimeout( function() {
      colorspace();
    }, 2000);
  };

  colorspace();
});
</script>
</head>
<body>
<div style="width: 100%; height: 100%">
<canvas id="square" width="100" height="100"></canvas>
</div>
</body>
</html>

